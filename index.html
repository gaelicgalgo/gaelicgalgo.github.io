<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gaelic Galgo - Irland & Schottland in Bildern und Geschichten</title>
    <meta name="description" content="Reiseimpressionen, Fotos und Bücher aus Irland & Schottland. Gaelic Galgo - Natur, Kultur und persönliche Eindrücke einer besonderen Reise.">
    <style>
        /* General Body Styles */
        body {
            font-family: 'Georgia', serif;
            margin: 0;
            padding: 0;
            background-color: #E8E5E0; /* Fallback */
            background-image: url('hintergrund.jpg'); /* Assuming hintergrund.jpg is in the root */
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            color: #FFFFFF; /* Default text color to white for better visibility on image */
            line-height: 1.7;
        }

        /* Header Styles */
        header {
            background-color: rgba(25, 50, 35, 0.85);
            color: #E0E0E0;
            padding: 25px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            border-bottom: 3px solid #4A7C59;
        }

        header .title-container h1 {
            margin: 0;
            font-size: 2.8em;
            font-weight: normal;
            color: #FFFFFF;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.7);
        }

        header .title-container .subtitle {
            margin: 5px 0 0 0;
            font-size: 1.1em;
            font-style: italic;
            color: #B0C4B1;
            text-shadow: 1px 1px 1px rgba(0,0,0,0.5);
        }
        
        .author-container {
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }

        .author-box {
            display: flex;
            align-items: center;
            text-align: right;
            background-color: rgba(0,0,0,0.3);
            padding: 10px 15px;
            border-radius: 8px;
            color: #E0E0E0;
            font-size: 0.9em;
        }

        .author-box p {
            margin: 0 15px 0 0; /* Abstand rechts vom Text zum Bild */
        }

        .author-image {
            width: 70px;
            height: 70px;
            border-radius: 50%;
            border: 2px solid #B0C4B1;
        }

        /* Navigation Styles */
        nav {
            background-color: rgba(0,0,0,0.6);
            padding: 12px 0;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 999;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }

        nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        nav ul li {
            display: inline;
            margin: 0 12px;
        }

        nav ul li a {
            color: #E0E0E0;
            text-decoration: none;
            font-size: 1.1em;
            padding: 10px 18px;
            border-radius: 5px;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        nav ul li a:hover,
        nav ul li a.active-nav-link {
            background-color: #4A7C59;
            color: #FFFFFF;
        }

        /* Main Content Styles */
        main {
            padding: 25px;
            max-width: 1300px;
            margin: 30px auto;
            background-color: rgba(255, 255, 255, 0.95); /* Leicht transparenter weißer Hintergrund */
            box-shadow: 0 5px 20px rgba(0,0,0,0.2);
            border-radius: 10px;
            color: #333333; /* Dunklerer Text für besseren Kontrast auf hellem Grund */
        }

        .content-section {
            display: none;
            padding: 25px;
            border-top: 1px solid #DDDDDD;
            animation: fadeIn 0.6s ease-in-out;
        }

        .content-section:first-of-type {
            border-top: none;
        }

        .content-section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h2 {
            color: #2F4F4F; /* Dunkles Schiefergrau */
            border-bottom: 2px solid #4A7C59;
            padding-bottom: 12px;
            margin-top: 0;
            font-size: 2em;
        }
        
        h3 {
            color: #2F4F4F; 
            margin-top: 20px;
            margin-bottom: 10px;
            font-size: 1.5em;
        }

        /* Accordion Styles */
        .accordion-item {
            margin-bottom: 18px;
            border: 1px solid #CCCCCC;
            border-radius: 6px;
            overflow: hidden;
            background-color: #F8F8F8;
        }

        .accordion-header {
            background-color: #E0E0E0;
            color: #2F4F4F;
            cursor: pointer;
            padding: 18px 22px;
            width: 100%;
            text-align: left;
            border: none;
            outline: none;
            font-size: 1.3em;
            font-weight: bold;
            transition: background-color 0.3s ease;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-header:hover {
            background-color: #D0D0D0;
        }

        .accordion-header.active {
            background-color: #C0C0C0;
        }

        .accordion-arrow {
            font-size: 0.9em;
            transition: transform 0.35s ease;
        }

        .accordion-header.active .accordion-arrow {
            transform: rotate(180deg);
        }

        .accordion-content {
            padding: 0; 
            background-color: #FFFFFF;
            border-top: 1px solid #CCCCCC;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
            transition: max-height 0.45s ease-out, opacity 0.3s ease-out 0.1s, padding-top 0.45s ease-out, padding-bottom 0.45s ease-out;
        }

        .accordion-content.open {
            padding: 20px;
            max-height: 5000px; /* Adjust if content is larger */
            opacity: 1;
        }

        /* Gallery Styles */
        .gallery {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            justify-content: flex-start; /* Align items to the start */
        }

        .gallery-item {
            width: calc(20% - 10px); /* 5 items per row, considering gap */
            border: 1px solid #D0D0D0;
            padding: 6px;
            background-color: #FDFDFD;
            text-align: center;
            box-shadow: 2px 2px 6px rgba(0,0,0,0.08);
            border-radius: 5px;
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            overflow: hidden; 
        }

        .gallery-item:hover {
            transform: translateY(-3px) scale(1.03);
            box-shadow: 4px 4px 10px rgba(0,0,0,0.12);
        }

        .gallery-item img {
            max-width: 100%;
            height: auto;
            display: block;
            margin-bottom: 6px;
            cursor: pointer;
            border-radius: 3px;
            aspect-ratio: 4 / 3; 
            object-fit: cover; 
        }

        .gallery-item .filename {
            font-size: 0.85em;
            color: #505050;
            word-wrap: break-word;
            padding: 0 3px;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            padding-top: 40px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(10, 20, 15, 0.92); 
            animation: fadeInModal 0.3s ease-out;
        }
        
        @keyframes fadeInModal {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .modal-content-wrapper {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            min-height: calc(100vh - 80px); 
            padding: 20px;
        }

        .modal-content {
            display: block;
            max-width: 90%;
            max-height: 80vh;
            border-radius: 5px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.4);
            animation: zoomInModal 0.35s cubic-bezier(0.175, 0.885, 0.320, 1.275); 
        }

        @keyframes zoomInModal {
            from {transform: scale(0.8); opacity: 0;}
            to {transform: scale(1); opacity: 1;}
        }

        #caption {
            margin-top: 15px;
            display: block;
            width: 85%;
            max-width: 750px;
            text-align: center;
            color: #D0D0D0;
            padding: 12px 0;
            font-size: 1.15em;
            font-weight: bold;
        }

        .close-modal-button {
            position: absolute;
            top: 20px;
            right: 30px;
            color: #E0E0E0;
            font-size: 45px;
            font-weight: bold;
            transition: 0.3s;
            line-height: 1;
            cursor: pointer;
        }

        .close-modal-button:hover,
        .close-modal-button:focus {
            color: #FFFFFF;
            text-decoration: none;
            transform: scale(1.1);
        }

        /* Book Cover Styles */
        .book-covers {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 25px;
            margin-top: 25px;
        }

        .book-cover-item {
            width: calc(33.333% - 25px);
            max-width: 280px;
            text-align: center;
        }

        .book-cover-item img {
            max-width: 100%;
            height: auto;
            border: 1px solid #C0C0C0;
            box-shadow: 4px 4px 10px rgba(0,0,0,0.18);
            border-radius: 5px;
            transition: transform 0.3s ease;
        }

        .book-cover-item img:hover {
            transform: scale(1.05);
        }

        /* Responsive Design */
        @media (max-width: 1200px) {
            .gallery-item {
                width: calc(25% - 10px); /* 4 items */
            }
        }
        
        @media (max-width: 992px) {
            header {
                padding: 20px;
            }
            nav ul li {
                margin: 0 8px;
            }
            nav ul li a {
                padding: 8px 12px;
                font-size: 1em;
            }
            .gallery-item {
                width: calc(33.333% - 9px); /* 3 items */
            }
            .book-cover-item {
                width: calc(50% - 15px);
                max-width: 240px;
            }
        }

        @media (max-width: 768px) {
            body {
                /* background-image: none; Consider removing for performance on mobile */
            }
            header {
                flex-direction: column;
                text-align: center;
            }
            header .title-container h1 {
                font-size: 2.4em;
            }
            header .title-container .subtitle {
                font-size: 1em;
            }
            .author-container {
                align-items: center;
                margin-top: 15px;
            }
            .author-box {
                flex-direction: column;
                text-align: center;
            }
            .author-box p {
                margin: 0 0 10px 0;
            }
            nav ul li {
                display: block;
                margin: 8px 0;
            }
            nav ul li a {
                display: block;
            }
            main {
                padding: 15px;
                margin: 20px auto;
            }
            h2 {
                font-size: 1.8em;
            }
            .accordion-header {
                font-size: 1.15em;
                padding: 15px;
            }
            .gallery-item {
                width: calc(50% - 7px); /* 2 items */
            }
            .modal-content {
                max-width: 95%;
                max-height: 75vh;
            }
            #caption {
                font-size: 1em;
            }
            .book-cover-item {
                width: calc(50% - 12px);
                max-width: 200px;
            }
        }

        @media (max-width: 480px) {
            header {
                padding: 15px;
            }
            header .title-container h1 {
                font-size: 2em;
            }
            main {
                margin: 15px auto;
                border-radius: 0;
            }
            .gallery-item {
                width: 100%; /* 1 item */
            }
            .book-cover-item {
                width: 80%;
                max-width: 220px; 
                margin-left: auto;
                margin-right: auto;
            }
            .close-modal-button {
                font-size: 35px;
                top: 10px;
                right: 20px;
            }
        }
    </style>
</head>
<body>

    <header>
        <div class="title-container">
            <h1>Gaelic Galgo</h1>
            <p class="subtitle">Irland – Schottland – Bilder – Geschichten</p>
        </div>
        <div class="author-container">
            <div class="author-box">
                <p>Karl Ramspott<br>geb. 1951<br>Irland- & Schottlandreisender</p>
                <!-- Assuming karl_portrait_round.png is in the root -->
                <img src="karl_portrait_round.png" alt="Karl Ramspott" class="author-image">
            </div>
        </div>
    </header>

    <nav>
        <ul>
            <li><a href="#irland">Irland</a></li>
            <li><a href="#schottland">Schottland</a></li>
            <li><a href="#buecher">Meine Bücher</a></li>
            <li><a href="#bilder-irland">Bilder Irland</a></li>
            <li><a href="#bilder-schottland">Bilder Schottland</a></li>
        </ul>
    </nav>

    <main>
        <!-- Irland Section -->
        <section class="content-section" id="irland">
            <h2>Irland</h2>
            <p>Reiseberichte, Landschaften und Momente voller Geschichte. Wilde Küsten, alte Steine und das Gefühl von Freiheit. Irland ist kein Ziel – es ist eine Rückkehr zum Ursprung.</p>
            <p>Hier finden Sie Eindrücke von der grünen Insel, von den majestätischen Cliffs of Moher bis zu den stillen Seen Connemaras, von den lebhaften Straßen Dublins bis zu den verborgenen Schätzen des Ring of Kerry. Jedes Bild und jede Geschichte erzählt von der tiefen Verbundenheit mit diesem Land, seiner reichen Kultur und den warmherzigen Menschen.</p>
        </section>

        <!-- Schottland Section -->
        <section class="content-section" id="schottland">
            <h2>Schottland</h2>
            <p>Nebel, Highlands, Burgen – Geschichten aus einem Land zwischen Vergangenheit und Gegenwart. Schottland trägt den Wind in der Stimme und das Feuer im Herzen.</p>
            <p>Entdecken Sie die raue Schönheit der schottischen Highlands, die mystischen Lochs und die historischen Städte wie Edinburgh und Glasgow. Die Bildergalerien fangen die einzigartige Atmosphäre dieses Landes ein, von den einsamen Weiten der Isle of Skye bis zu den geschichtsträchtigen Schlachtfeldern.</p>
        </section>

        <!-- Bücher Section -->
        <section class="content-section" id="buecher">
            <h2>Meine Bücher</h2>
            <div class="book-covers">
                <div class="book-cover-item">
                    <!-- Assuming book cover images are in the root -->
                    <img src="ire-cover-1.jpg" alt="Buchcover Mein Leben als Ire">
                </div>
                <div class="book-cover-item">
                    <img src="strasse-cover-3.jpg" alt="Buchcover Unter den Strassen Dublins">
                </div>
                <div class="book-cover-item">
                    <img src="arch-cover-2.jpg" alt="Buchcover Reise zu den archäologischen Stätten Irlands">
                </div>
            </div>
            <p style="margin-top: 30px; text-align: center;">Weitere Informationen zu meinen Büchern und Bestellmöglichkeiten folgen in Kürze...</p>
        </section>

        <!-- Bilder Irland Section -->
        <section class="content-section" id="bilder-irland">
            <h2>Bilder Irland</h2>
            <p>Eine Auswahl meiner schönsten Irland-Fotografien, unterteilt in Galerien.</p>

            <!-- Skellig Gallery -->
            <div class="accordion-item">
                <button class="accordion-header" type="button">
                    Skellig Michael & Little Skellig
                    <span class="accordion-arrow">▼</span>
                </button>
                <div class="accordion-content">
                    <div class="gallery" id="skelligGallery">
                        <!-- Images will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Irland Counties Gallery -->
            <div class="accordion-item">
                <button class="accordion-header" type="button">
                    Irland Counties
                    <span class="accordion-arrow">▼</span>
                </button>
                <div class="accordion-content">
                    <div class="gallery" id="irlandCountiesGallery">
                         <p style="color: #777; text-align: center; width: 100%;">Fotos folgen in Kürze...</p>
                    </div>
                </div>
            </div>
            
            <!-- Irland Inseln Gallery -->
            <div class="accordion-item">
                <button class="accordion-header" type="button">
                    Irland Inseln (außer Skellig)
                    <span class="accordion-arrow">▼</span>
                </button>
                <div class="accordion-content">
                    <div class="gallery" id="irlandInselnGallery">
                        <p style="color: #777; text-align: center; width: 100%;">Fotos folgen in Kürze...</p>
                    </div>
                </div>
            </div>

        </section>

        <!-- Bilder Schottland Section -->
        <section class="content-section" id="bilder-schottland">
            <h2>Bilder Schottland</h2>
            <p>Eine Auswahl meiner schönsten Schottland-Fotografien, unterteilt in Galerien.</p>

            <!-- Corpach Gallery -->
            <div class="accordion-item">
                <button class="accordion-header" type="button">
                    Corpach Wreck & Ben Nevis
                    <span class="accordion-arrow">▼</span>
                </button>
                <div class="accordion-content">
                    <div class="gallery" id="corpachGallery">
                        <!-- Images will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Fort William Gallery -->
            <div class="accordion-item">
                <button class="accordion-header" type="button">
                    Fort William & Umgebung
                    <span class="accordion-arrow">▼</span>
                </button>
                <div class="accordion-content">
                    <div class="gallery" id="fortWilliamGallery">
                        <!-- Images will be populated by JavaScript -->
                    </div>
                </div>
            </div>

        </section>
    </main>

    <!-- The Modal -->
    <div id="imageModal" class="modal">
        <span class="close-modal-button">&times;</span>
        <div class="modal-content-wrapper">
            <img class="modal-content" id="modalImage" src="#" alt="Großansicht Bild">
            <div id="caption"></div>
        </div>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            // --- CONFIGURATION FOR GALLERIES ---
            const galleriesConfig = {
                "skelligGallery": {
                    basePath: "", // Assuming images are in the root
                    files: [
                        "Skellig 01.jpg", "Skellig 02.jpg", "Skellig 03.jpg", "Skellig 04.jpg", "Skellig 05.jpg",
                        "Skellig 06.jpg", "Skellig 07.jpg", "Skellig 08.jpg", "Skellig 09.jpg", "Skellig 10.jpg",
                        "Skellig 11.jpg", "Skellig 12.jpg", "Skellig 13.jpg", "Skellig 14.jpg", "Skellig 15.jpg",
                        "Skellig 16.jpg", "Skellig 17.jpg", "Skellig 18.jpg", "Skellig 19.jpg", "Skellig 20.jpg",
                        "Skellig 21.jpg", "Skellig 22.jpg"
                    ]
                },
                "corpachGallery": {
                    basePath: "",
                    files: [
                        "Corpach 1.jpg", "Corpach 2.jpg", "Corpach 3.jpg", "Corpach 4.jpg", "Corpach 5.jpg",
                        "Corpach 6.jpg", "Corpach 7.jpg", "Corpach 8.jpg", "Corpach 9.jpg", "Corpach 10.jpg",
                        "Corpach 11.jpg", "Corpach 12.jpg", "Corpach 13.jpg", "Corpach 14.jpg", "Corpach 15.jpg",
                        "Corpach 16.jpg", "Corpach 17.jpg", "Corpach 18.jpg", "Corpach 19.jpg", "Corpach 20.jpg",
                        "Corpach 21.jpg", "Corpach 22.jpg", "Corpach 23.jpg", "Corpach 24.jpg", "Corpach 25.jpg",
                        "Corpach 26.jpg", "Corpach 27.jpg", "Corpach 28.jpg", "Corpach 29.jpg", "Corpach 30.jpg",
                        "Corpach 31.jpg", "Corpach 32.jpg", "Corpach 33.jpg", "Corpach 34.jpg", "Corpach 35.jpg",
                        "Corpach 36.jpg", "Corpach 37.jpg", "Corpach 38.jpg", "Corpach 39.jpg", "Corpach 40.jpg",
                        "Corpach 41.jpg", "Corpach 42.jpg", "Corpach 43.jpg", "Corpach 44.jpg", "Corpach 45.jpg",
                        "Corpach 46.jpg", "Corpach 47.jpg", "Corpach 48.jpg", "Corpach 49.jpg", "Corpach 50.jpg",
                        "Corpach 51.jpg", "Corpach 52.jpg", "Corpach 53.jpg", "Corpach 54.jpg", "Corpach 55.jpg",
                        "Corpach 56.jpg", "Corpach 57.jpg", "Corpach 58.jpg", "Corpach 59.jpg", "Corpach 60.jpg",
                        "Corpach 61.jpg", "Corpach 62.jpg", "Corpach 63.jpg", "Corpach 64.jpg", "Corpach 65.jpg",
                        "Corpach 66.jpg", "Corpach 67.jpg", "Corpach 68.jpg", "Corpach 69.jpg", "Corpach 70.jpg",
                        "Corpach 71.jpg", "Corpach 72.jpg", "Corpach 73.jpg", "Corpach 74.jpg", "Corpach 75.jpg",
                        "Corpach 76.jpg", "Corpach 77.jpg", "Corpach 78.jpg", "Corpach 79.jpg", "Corpach 80.jpg",
                        "Corpach 81.jpg", "Corpach 82.jpg", "Corpach 83.jpg", "Corpach 84.jpg", "Corpach 85.jpg",
                        "Corpach 86.jpg", "Corpach 87.jpg", "Corpach 88.jpg", "Corpach 89.jpg", "Corpach 90.jpg",
                        "Corpach 91.jpg", "Corpach 92.jpg", "Corpach 93.jpg", "Corpach 94.jpg", "Corpach 95.jpg",
                        "Corpach 96.jpg", "Corpach 97.jpg", "Corpach 98.jpg", "Corpach 99.jpg"
                    ]
                },
                "fortWilliamGallery": {
                    basePath: "",
                    files: [
                        "Fort William 1.jpg", "Fort William 2.jpg", "Fort William 3.jpg", "Fort William 4.jpg", "Fort William 5.jpg",
                        "Fort William 6.jpg", "Fort William 7.jpg", "Fort William 8.jpg", "Fort William 9.jpg", "Fort William 10.jpg",
                        "Fort William 11.jpg", "Fort William 12.jpg", "Fort William 13.jpg", "Fort William 14.jpg", "Fort William 15.jpg",
                        "Fort William 16.jpg", "Fort William 17.jpg", "Fort William 18.jpg", "Fort William 19.jpg", "Fort William 20.jpg",
                        "Fort William 21.jpg", "Fort William 22.jpg", "Fort William 23.jpg", "Fort William 24.jpg", "Fort William 25.jpg",
                        "Fort William 26.jpg", "Fort William 27.jpg", "Fort William 28.jpg", "Fort William 29.jpg", "Fort William 30.jpg",
                        "Fort William 31.jpg", "Fort William 32.jpg", "Fort William 33.jpg", "Fort William 34.jpg", "Fort William 35.jpg",
                        "Fort William 36.jpg", "Fort William 37.jpg", "Fort William 38.jpg", "Fort William 39.jpg", "Fort William 40.jpg",
                        "Fort William 41.jpg", "Fort William 42.jpg", "Fort William 43.jpg", "Fort William 44.jpg", "Fort William 45.jpg",
                        "Fort William 46.jpg", "Fort William 47.jpg", "Fort William 48.jpg", "Fort William 49.jpg", "Fort William 50.jpg",
                        "Fort William 51.jpg", "Fort William 52.jpg", "Fort William 53.jpg", "Fort William 54.jpg", "Fort William 55.jpg",
                        "Fort William 56.jpg", "Fort William 57.jpg", "Fort William 58.jpg", "Fort William 59.jpg", "Fort William 60.jpg",
                        "Fort William 61.jpg", "Fort William 62.jpg", "Fort William 63.jpg", "Fort William 64.jpg", "Fort William 65.jpg",
                        "Fort William 66.jpg", "Fort William 67.jpg", "Fort William 68.jpg", "Fort William 69.jpg", "Fort William 70.jpg",
                        "Fort William 71.jpg", "Fort William 72.jpg", "Fort William 73.jpg", "Fort William 74.jpg", "Fort William 75.jpg",
                        "Fort William 76.jpg", "Fort William 77.jpg", "Fort William 78.jpg", "Fort William 79.jpg", "Fort William 80.jpg",
                        "Fort William 81.jpg", "Fort William 82.jpg", "Fort William 83.jpg", "Fort William 84.jpg", "Fort William 85.jpg",
                        "Fort William 86.jpg", "Fort William 87.jpg", "Fort William 88.jpg", "Fort William 89.jpg", "Fort William 90.jpg",
                        "Fort William 91.jpg", "Fort William 92.jpg", "Fort William 93.jpg", "Fort William 94.jpg", "Fort William 95.jpg",
                        "Fort William 96.jpg", "Fort William 97.jpg", "Fort William 98.jpg", "Fort William 99.jpg"
                    ]
                }
            };

            // --- NAVIGATION --- 
            const navLinks = document.querySelectorAll("nav ul li a");
            const sections = document.querySelectorAll(".content-section");
            const mainElement = document.querySelector("main");
            const navElement = document.querySelector("nav");

            function showSection(sectionId, setActiveLink = true) {
                sections.forEach(section => {
                    section.classList.remove("active");
                });
                const activeSection = document.getElementById(sectionId);
                if (activeSection) {
                    activeSection.classList.add("active");
                }

                if (setActiveLink) {
                    navLinks.forEach(link => {
                        link.classList.remove("active-nav-link");
                        if (link.getAttribute("href") === "#" + sectionId) {
                            link.classList.add("active-nav-link");
                        }
                    });
                }
                if (mainElement && navElement) {
                     window.scrollTo({
                        top: mainElement.offsetTop - navElement.offsetHeight - 10, 
                        behavior: "smooth"
                    });
                }
            }

            navLinks.forEach(link => {
                link.addEventListener("click", function(event) {
                    event.preventDefault();
                    const sectionId = this.getAttribute("href").substring(1);
                    showSection(sectionId);
                    window.location.hash = sectionId; // Update URL hash
                });
            });

            // --- ACCORDION --- 
            const accordionHeaders = document.querySelectorAll(".accordion-header");
            accordionHeaders.forEach(header => {
                header.addEventListener("click", function() {
                    const content = this.nextElementSibling;
                    const arrow = this.querySelector(".accordion-arrow");
                    const isActive = this.classList.contains("active");

                    content.classList.toggle("open");
                    this.classList.toggle("active");

                    if (arrow) {
                         arrow.style.transform = content.classList.contains("open") ? "rotate(180deg)" : "rotate(0deg)";
                    }
                });
            });

            // --- MODAL --- 
            const modal = document.getElementById("imageModal");
            const modalImg = document.getElementById("modalImage");
            const captionText = document.getElementById("caption");
            const closeModalButton = document.querySelector(".close-modal-button");

            function openImageModal(imgElement) {
                if (modal && modalImg && captionText) {
                    modal.style.display = "block";
                    modalImg.src = imgElement.dataset.fullsrc || imgElement.src;
                    captionText.innerHTML = imgElement.alt;
                }
            }

            if (closeModalButton) {
                closeModalButton.onclick = function() {
                    if (modal) modal.style.display = "none";
                }
            }

            if (modal) {
                modal.onclick = function(event) { // Click on background to close
                    if (event.target === modal || event.target === document.querySelector(".modal-content-wrapper")) {
                        modal.style.display = "none";
                    }
                }
            }
            
            // --- DYNAMIC GALLERY POPULATION & MODAL LISTENERS ---
            function populateGallery(galleryId, config) {
                const galleryElement = document.getElementById(galleryId);
                if (!galleryElement || !config || !config.files) return;

                config.files.forEach(file => {
                    const galleryItem = document.createElement("div");
                    galleryItem.className = "gallery-item";
                    
                    const img = document.createElement("img");
                    img.src = config.basePath + file;
                    img.alt = file.replace(/\.[^/.]+$/, ""); // Filename without extension as alt
                    img.dataset.fullsrc = config.basePath + file;
                    
                    img.addEventListener("click", function() {
                        openImageModal(this);
                    });

                    galleryItem.appendChild(img);
                    
                    const filenameDiv = document.createElement("div");
                    filenameDiv.className = "filename";
                    filenameDiv.textContent = file;
                    galleryItem.appendChild(filenameDiv);
                    
                    galleryElement.appendChild(galleryItem);
                });
            }

            for (const galleryId in galleriesConfig) {
                populateGallery(galleryId, galleriesConfig[galleryId]);
            }

            // --- INITIAL PAGE LOAD --- 
            const hash = window.location.hash.substring(1);
            const defaultSectionId = hash && document.getElementById(hash) ? hash : "irland";
            showSection(defaultSectionId);
            // Ensure the correct nav link is highlighted if loaded with a hash
            navLinks.forEach(link => {
                if (link.getAttribute("href") === "#" + defaultSectionId) {
                    link.classList.add("active-nav-link");
                }
            });

        });
    </script>

</body>
</html>

